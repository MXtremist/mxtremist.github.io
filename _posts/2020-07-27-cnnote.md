---
layout:  post
title:  计网复习笔记整理
date:  2020-07-27
Author:  MXtremist
categories: 
tags:  [notes, study]

comments:  true
--- 

按复习顺序（目前的顺序是：绪论→链路层→网络层→传输层→网络安全→多媒体和部分应用层）整理计网复习知识点。🐛🐛🐛



## 绪论

### 什么是因特网

“网络的网络”

从多维度分析：

| 维度 | 解释                      |
| ---- | ------------------------- |
| 设备 | 端设备、通信链路、路由器  |
| 服务 | 分布式应用程序&套接字接口 |
| 协议 | TCP/IP...                 |



### 连接到因特网，然后传输

端系统-边缘路由器-核心路由器-边缘路由器-端系统

| 类型     | 举例                                           |
| -------- | ---------------------------------------------- |
| 网络边缘 | 端系统（主机）：client, server, data center... |
| 网络接入 | 电缆、光纤、卫星...                            |
| 网络核心 | 分组交换机&路由器构成的网络                    |

传输方式：电路交换（独占，e.g.专用电话线）；分组交换（分块传输，核心路由器负责调度）；虚电路（分组交换方式实现电路交换，固定的路由为其预留带宽）



### 协议体系结构

分层的

OSI:物理、数据链路、网络、传输、会话、表示、应用，后三层在TCP/IP中均在应用层实现



### 网络性能评估

| 时延类型 | 产生方式                                                  |
| -------- | --------------------------------------------------------- |
| 传输时延 | 将分组发送出去所需要的时间，Length / Rate                 |
| 传播时延 | 分组在网络中传播所需要的时间，RTT = 2 * propagation delay |
| 排队时延 | 分组在缓冲区等待                                          |
| 处理时延 | 检错、查看首部并导向正确位置                              |

顺序：*4-3-1-2*

**丢包原因**：缓冲区不足 or 传播中出错

**吞吐量**：可用带宽，路径上获得的带宽的最小值



## 链路层

### 核心功能

分帧（frame = 头+datagram+尾）、MAC（媒介访问控制，在共享广播信道时协调节点）



### 差错检测

奇偶校验、CRC（循环冗余检测）

**二维奇偶校验的定位**：横轴、纵轴各有一个出错→交叉定位→纠正；对于两个出错可以检测

**CRC**：传输d比特的数据D，考虑r比特的CRC比特R，$D*2^r{\oplus}R$ 记为<D, R>（形式上为D和R比特的组合）。提前选取r+1位的生成多项式G，然后发送方计算出R，满足<D, R> mod G = 0，发送<D, R>。接收方用G检验发送方数据。

在CRC计算的加减法中使用模2运算（加法不进位减法不借位）。计算R时在D后补r个0，除以G，得到的余数为R

$e.g. D=101110,r=3,G=1001,R=?$

<img src="https://i.loli.net/2020/07/28/9kc57afMuRXEwW3.png"/>

### 局域网 LAN

#### 拓扑结构

星形、环形（token ring：sender发送数据并最终吸收数据，吸收完后释放令牌）、树形...

以太网的总线拓扑：使用同轴电缆总线互联节点（广播局域网）

#### 传输媒介

网线、WiFi

#### 以太网 Ethernet

**服务：**

对网络层提供不可靠服务：若未通过CRC检测则直接丢弃，通过则啥也不做（不发送ACK,Non ACK)

无连接服务（类似UDP，不握手）

**以太网帧的格式**

| 前导码       | Dst Addr | Src Addr | Type          | Data                  | CRC    |
| ------------ | -------- | -------- | ------------- | --------------------- | ------ |
| 标记帧的开始 | 目的地址 | 源地址   | 类型（如arp） | 数据，即IP数据报      | 校验码 |
| 8字节        | 6字节    | 6字节    | 2字节         | 46-1500字节，不足补全 | 4字节  |

地址称为MAC地址，固定值，AB-CD-EF-GH-IJ-LM，前3字节为厂商；可重复

前导码前7个字节均为10101010，最后一个是10101011，为避免Data等中出现前导码，可以用一定规则插入字节，例如每遇到101010则插入0，这样只会在前导码中出现1010101

#### 网桥和交换机

将多个以太网连接成更大的以太网的**局域网组网设备**

**功能**：路由转发和过滤（转发表+地址学习）、生成树算法

**转发表**初始为空，收到A->B，由端口a到达，则记录A对应端口a

**生成树算法**：分布式算法

*广播风暴问题：由于成环导致的，因此使用生成树避免成环

1. 一定规则确定树根，如MAC地址最小值
2. 每个节点向邻居发送Message(Y, d, X)，其中Y为自己目前认为的根，d为自己到根的距离，X为自己，初始时均发送M(X, 0, X)
3. 当节点X收到M(Y, d, Z)，且Y更适合当根（按照1，即Y < X），则更新，X发送M(Y, d+1, X)给邻居

<img src="https://i.loli.net/2020/07/28/CNG9zcbseOMRhFQ.png"/>

### 媒介访问控制 MAC

### 无线局域网 WLAN



## 网络层



## 传输层



## 网络安全



## 多媒体和部分应用层



最后修改于 2020-7-28